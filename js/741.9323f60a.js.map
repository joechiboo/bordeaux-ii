{"version":3,"file":"js/741.9323f60a.js","mappings":"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","sources":["webpack://bordeaux-ii/./src/components/UserLogin.vue","webpack://bordeaux-ii/./src/components/UserLogin.vue?d766"],"sourcesContent":["<template>\n\t<div class=\"login\" @keydown=\"handleKeyDown\" @keyup=\"handleKeyUp\" tabindex=\"0\">\n\t\t<div class=\"login-header\">\n\t\t\t<h2 @click=\"handleTitleClick\">🏠 住戶登入</h2>\n\t\t\t<p class=\"login-subtitle\">請輸入通關密語：</p>\n\t\t</div>\n\t\t<form @submit.prevent=\"handleLogin\">\n\t\t\t<div class=\"form-group\">\n\t\t\t\t<label for=\"password\">🔑 通關密語：</label>\n\t\t\t\t<input type=\"text\" id=\"password\" v-model=\"password\" placeholder=\"請輸入通關密語\" required @keydown=\"handleKeyDown\" @keyup=\"handleKeyUp\" />\n\t\t\t</div>\n\t\t\t<button type=\"submit\" class=\"login-btn\">登入</button>\n\t\t</form>\n\t</div>\n</template>\n\n<script>\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tpassword: '',\n\t\t\t\tctrlPressed: false,\n\t\t\t\tshiftPressed: false,\n\t\t\t};\n\t\t},\n\t\tmounted() {\n\t\t\t// 確保div可以接收鍵盤事件\n\t\t\tthis.$el.focus();\n\t\t},\n\t\tmethods: {\n\t\t\tasync handleLogin() {\n\t\t\t\t// 驗證通關密語\n\t\t\t\tif (!this.password.trim()) {\n\t\t\t\t\talert('請輸入通關密語');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// 驗證通關密語\n\t\t\t\tif (this.password !== '樂菲莊園') {\n\t\t\t\t\talert('通關密語錯誤');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconsole.log('🔐 登入成功');\n\t\t\t\tthis.$store.commit('login');\n\t\t\t\tconsole.log('✅ Vuex 登入狀態已更新');\n\n\t\t\t\t// 檢查是否有返回頁面參數\n\t\t\t\tconst returnTo = this.$route.query.returnTo;\n\t\t\t\tconst fromVoting = this.$route.query.from === 'voting';\n\n\t\t\t\tconsole.log('📍 當前路由資訊:');\n\t\t\t\tconsole.log('  - 完整路徑:', this.$route.fullPath);\n\t\t\t\tconsole.log('  - query 參數:', this.$route.query);\n\t\t\t\tconsole.log('  - returnTo:', returnTo);\n\t\t\t\tconsole.log('  - fromVoting:', fromVoting);\n\n\t\t\t\t// 優先處理 returnTo 參數\n\t\t\t\tif (returnTo && returnTo !== '/login') {\n\t\t\t\t\tconsole.log('🎯 有 returnTo 參數，返回到:', returnTo);\n\t\t\t\t\tthis.$router.replace(returnTo);\n\t\t\t\t} else if (fromVoting) {\n\t\t\t\t\tconsole.log('🗳️ 從投票頁面來的，返回投票列表');\n\t\t\t\t\tthis.$router.replace('/voting');\n\t\t\t\t} else {\n\t\t\t\t\tconsole.log('📄 預設跳轉到會議記錄');\n\t\t\t\t\tthis.$router.replace({ name: 'MeetingMinutes' });\n\t\t\t\t}\n\t\t\t},\n\t\t\thandleKeyDown(event) {\n\t\t\t\tif (event.key === 'Control') {\n\t\t\t\t\tthis.ctrlPressed = true;\n\t\t\t\t}\n\t\t\t\tif (event.key === 'Shift') {\n\t\t\t\t\tthis.shiftPressed = true;\n\t\t\t\t}\n\t\t\t},\n\t\t\thandleKeyUp(event) {\n\t\t\t\tif (event.key === 'Control') {\n\t\t\t\t\tthis.ctrlPressed = false;\n\t\t\t\t}\n\t\t\t\tif (event.key === 'Shift') {\n\t\t\t\t\tthis.shiftPressed = false;\n\t\t\t\t}\n\t\t\t},\n\t\t\thandleTitleClick() {\n\t\t\t\t// 檢查是否同時按住 Ctrl + Shift\n\t\t\t\tif (this.ctrlPressed && this.shiftPressed) {\n\t\t\t\t\tthis.bypassLogin();\n\t\t\t\t}\n\t\t\t},\n\t\t\tbypassLogin() {\n\t\t\t\tconsole.log('🚀 快速登入模式');\n\n\t\t\t\tthis.$store.commit('login');\n\n\t\t\t\t// 檢查是否有返回頁面參數\n\t\t\t\tconst returnTo = this.$route.query.returnTo;\n\t\t\t\tconst fromVoting = this.$route.query.from === 'voting';\n\n\t\t\t\tconsole.log('📍 快速登入 - 當前路由資訊:');\n\t\t\t\tconsole.log('  - 完整路徑:', this.$route.fullPath);\n\t\t\t\tconsole.log('  - returnTo:', returnTo);\n\t\t\t\tconsole.log('  - fromVoting:', fromVoting);\n\n\t\t\t\t// 優先處理 returnTo 參數\n\t\t\t\tif (returnTo && returnTo !== '/login') {\n\t\t\t\t\tconsole.log('🎯 快速登入 - 返回到:', returnTo);\n\t\t\t\t\tthis.$router.push(returnTo);\n\t\t\t\t} else if (fromVoting) {\n\t\t\t\t\tconsole.log('🗳️ 快速登入 - 返回投票列表');\n\t\t\t\t\tthis.$router.push('/voting');\n\t\t\t\t} else {\n\t\t\t\t\tconsole.log('📄 快速登入 - 跳轉到會議記錄');\n\t\t\t\t\tthis.$router.push({ name: 'MeetingMinutes' });\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\t};\n</script>\n\n<style scoped>\n\t.login {\n\t\tmax-width: 450px;\n\t\tmargin: 20px auto;\n\t\tpadding: 25px;\n\t\tborder: 1px solid #ddd;\n\t\tborder-radius: 15px;\n\t\tbackground: #ffffff;\n\t\tbox-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);\n\t}\n\n\t.form-group {\n\t\tmargin-bottom: 15px;\n\t}\n\n\tlabel {\n\t\tdisplay: block;\n\t\tmargin-bottom: 8px;\n\t\ttext-align: left;\n\t\tfont-weight: 500;\n\t\tcolor: #333;\n\t}\n\n\tinput {\n\t\twidth: 100%;\n\t\tpadding: 12px 15px;\n\t\tmargin-bottom: 15px;\n\t\tborder: 2px solid #e1e5e9;\n\t\tborder-radius: 8px;\n\t\tfont-size: 16px;\n\t\ttransition: border-color 0.3s ease;\n\t}\n\n\tinput:focus {\n\t\toutline: none;\n\t\tborder-color: #007bff;\n\t\tbox-shadow: 0 0 0 3px rgba(0, 123, 255, 0.1);\n\t}\n\n\t.login-btn {\n\t\twidth: 100%;\n\t\tpadding: 15px 20px;\n\t\tbackground: #007bff;\n\t\tborder: none;\n\t\tborder-radius: 8px;\n\t\tcolor: white;\n\t\tfont-size: 18px;\n\t\tfont-weight: 600;\n\t\tcursor: pointer;\n\t\ttransition: all 0.3s ease;\n\t\tbox-shadow: 0 2px 4px rgba(0, 123, 255, 0.3);\n\t}\n\n\t.login-btn:hover {\n\t\tbackground: #0056b3;\n\t\ttransform: translateY(-2px);\n\t\tbox-shadow: 0 4px 8px rgba(0, 123, 255, 0.4);\n\t}\n\n\t.login-btn:active {\n\t\ttransform: translateY(0);\n\t\tbox-shadow: 0 2px 4px rgba(0, 123, 255, 0.3);\n\t}\n\n\th2 {\n\t\tcursor: pointer;\n\t\tuser-select: none;\n\t}\n\n\th2:hover {\n\t\tcolor: #0056b3;\n\t}\n</style>","import { render } from \"./UserLogin.vue?vue&type=template&id=65c476c0&scoped=true\"\nimport script from \"./UserLogin.vue?vue&type=script&lang=js\"\nexport * from \"./UserLogin.vue?vue&type=script&lang=js\"\n\nimport \"./UserLogin.vue?vue&type=style&index=0&id=65c476c0&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-65c476c0\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","for","type","_createElementBlock","onKeydown","_cache","args","$options","handleKeyDown","onKeyup","handleKeyUp","tabindex","_hoisted_1","onClick","handleTitleClick","_hoisted_2","onSubmit","_withModifiers","handleLogin","_hoisted_3","_hoisted_4","id","$event","$data","password","placeholder","required","_hoisted_5","data","ctrlPressed","shiftPressed","mounted","this","$el","focus","methods","trim","alert","console","log","$store","commit","returnTo","$route","query","fromVoting","from","fullPath","$router","replace","name","event","key","bypassLogin","push","__exports__","render"],"sourceRoot":""}