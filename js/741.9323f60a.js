"use strict";(self["webpackChunkbordeaux_ii"]=self["webpackChunkbordeaux_ii"]||[]).push([[741],{7741:function(e,o,s){s.r(o),s.d(o,{default:function(){return y}});var t=s(6768),n=s(5130);const l=e=>((0,t.Qi)("data-v-65c476c0"),e=e(),(0,t.jt)(),e),r={class:"login-header"},i=l((()=>(0,t.Lk)("p",{class:"login-subtitle"},"請輸入通關密語：",-1))),u={class:"form-group"},a=l((()=>(0,t.Lk)("label",{for:"password"},"🔑 通關密語：",-1))),h=l((()=>(0,t.Lk)("button",{type:"submit",class:"login-btn"},"登入",-1)));function d(e,o,s,l,d,c){return(0,t.uX)(),(0,t.CE)("div",{class:"login",onKeydown:o[5]||(o[5]=(...e)=>c.handleKeyDown&&c.handleKeyDown(...e)),onKeyup:o[6]||(o[6]=(...e)=>c.handleKeyUp&&c.handleKeyUp(...e)),tabindex:"0"},[(0,t.Lk)("div",r,[(0,t.Lk)("h2",{onClick:o[0]||(o[0]=(...e)=>c.handleTitleClick&&c.handleTitleClick(...e))},"🏠 住戶登入"),i]),(0,t.Lk)("form",{onSubmit:o[4]||(o[4]=(0,n.D$)(((...e)=>c.handleLogin&&c.handleLogin(...e)),["prevent"]))},[(0,t.Lk)("div",u,[a,(0,t.bo)((0,t.Lk)("input",{type:"text",id:"password","onUpdate:modelValue":o[1]||(o[1]=e=>d.password=e),placeholder:"請輸入通關密語",required:"",onKeydown:o[2]||(o[2]=(...e)=>c.handleKeyDown&&c.handleKeyDown(...e)),onKeyup:o[3]||(o[3]=(...e)=>c.handleKeyUp&&c.handleKeyUp(...e))},null,544),[[n.Jo,d.password]])]),h],32)],32)}s(4114);var c={data(){return{password:"",ctrlPressed:!1,shiftPressed:!1}},mounted(){this.$el.focus()},methods:{async handleLogin(){if(!this.password.trim())return void alert("請輸入通關密語");if("樂菲莊園"!==this.password)return void alert("通關密語錯誤");console.log("🔐 登入成功"),this.$store.commit("login"),console.log("✅ Vuex 登入狀態已更新");const e=this.$route.query.returnTo,o="voting"===this.$route.query.from;console.log("📍 當前路由資訊:"),console.log("  - 完整路徑:",this.$route.fullPath),console.log("  - query 參數:",this.$route.query),console.log("  - returnTo:",e),console.log("  - fromVoting:",o),e&&"/login"!==e?(console.log("🎯 有 returnTo 參數，返回到:",e),this.$router.replace(e)):o?(console.log("🗳️ 從投票頁面來的，返回投票列表"),this.$router.replace("/voting")):(console.log("📄 預設跳轉到會議記錄"),this.$router.replace({name:"MeetingMinutes"}))},handleKeyDown(e){"Control"===e.key&&(this.ctrlPressed=!0),"Shift"===e.key&&(this.shiftPressed=!0)},handleKeyUp(e){"Control"===e.key&&(this.ctrlPressed=!1),"Shift"===e.key&&(this.shiftPressed=!1)},handleTitleClick(){this.ctrlPressed&&this.shiftPressed&&this.bypassLogin()},bypassLogin(){console.log("🚀 快速登入模式"),this.$store.commit("login");const e=this.$route.query.returnTo,o="voting"===this.$route.query.from;console.log("📍 快速登入 - 當前路由資訊:"),console.log("  - 完整路徑:",this.$route.fullPath),console.log("  - returnTo:",e),console.log("  - fromVoting:",o),e&&"/login"!==e?(console.log("🎯 快速登入 - 返回到:",e),this.$router.push(e)):o?(console.log("🗳️ 快速登入 - 返回投票列表"),this.$router.push("/voting")):(console.log("📄 快速登入 - 跳轉到會議記錄"),this.$router.push({name:"MeetingMinutes"}))}}},g=s(1241);const p=(0,g.A)(c,[["render",d],["__scopeId","data-v-65c476c0"]]);var y=p}}]);
//# sourceMappingURL=741.9323f60a.js.map